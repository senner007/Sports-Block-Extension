(()=>{"use strict";var e={844:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ContentController=void 0,t.ContentController=class{contentView;contentMediator;host;isEditMode=!0;constructor(e,t,s){this.contentView=e,this.contentMediator=t,this.host=s}async getCategories(){return await this.contentMediator.getCategories()}async findElementsOnPage(e){return this.contentView.getElements(this.host,e)}observeElements(e){this.contentView.observeElements(e)}async init(){await this.markElements(this.contentView.root),this.observeElements(this.markElements)}markElements=async e=>{const t=await this.findElementsOnPage(e);if(!t.length)return;console.log("marking elemetns");const s=await this.getCategories(),n=t.filter((e=>s.includes(e.label.toLowerCase()))),o=t.filter((e=>!s.includes(e.label.toLowerCase())));t.forEach((e=>this.contentView.clearSelection(e.elem))),n.forEach((e=>this.contentView.hideElement(e.elem))),o.forEach((e=>this.contentView.tagForRemoval(e.elem,this.isEditMode?"ON":"OFF")))}}},343:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ContentView=void 0,t.ContentView=class{tagClass="sports-block-extension-locate";hideClass="sports-block-extension-hide";root=document;clearSelection(e){e.classList.remove(this.hideClass),e.classList.remove(this.tagClass)}tagForRemoval(e,t){"ON"===t?e.classList.add(this.tagClass):e.classList.remove(this.tagClass)}hideElement(e){e.classList.add(this.hideClass)}observeElements(e){const t=document.documentElement;new MutationObserver((async(t,s)=>{for(const s of t)await e(s.target)})).observe(t,{childList:!0,subtree:!0,characterData:!1})}getElements(e,t){const s=Array.from(t.querySelectorAll("a")).filter((e=>e.href.includes("www.dr.dk/sporten/"))).map((e=>n(e)));function n(e){const t=e.parentElement?.querySelectorAll("a");return[...new Set(Array.from(t).map((e=>e.href)))].length>1?e:n(e.parentElement)}const o=[];return s.forEach((e=>{o.some((t=>e.isEqualNode(t)))||o.push(e)})),o.map((e=>({elem:e,label:e.querySelector(".dre-teaser-meta-label")?.textContent,href:e.querySelector("a")?.href})))}}},150:(e,t,s)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.uiMediator=t.contentMediator=void 0;const n=s(912);var o;!function(e){e[e.ELEMENT_SELECT_MODE_ON=0]="ELEMENT_SELECT_MODE_ON",e[e.ELEMENT_SELECT_MODE_OFF=1]="ELEMENT_SELECT_MODE_OFF"}(o||(o={}));class a{async receiveListener(e){chrome.runtime.onMessage.addListener(e)}async setCategories(e){return n.extensionStorage.storage_set("categories",e)}async getCategories(){return n.extensionStorage.storage_get("categories")}}t.contentMediator=new class extends a{async sendMessage(e){if("sentence"in e)return;const t=await chrome.runtime.sendMessage({message:e});return console.log("sent content message"),t}},t.uiMediator=new class extends a{async sendMessage(e,t){const[s]=await chrome.tabs.query({active:!0,lastFocusedWindow:!0});return await chrome.tabs.sendMessage(s.id,{topic:e,mesage:t})}async getRemovedElements(){return n.extensionStorage.storage_get("removedElements")}async getFilterByResultsState(){return n.extensionStorage.storage_get("filterByResultState")}async setFilterByResultsState(e){n.extensionStorage.storage_set("filterByResultState",e)}async requestElementSelectMode(e){await this.sendMessage("ON"===e?o.ELEMENT_SELECT_MODE_ON:o.ELEMENT_SELECT_MODE_OFF,"")}}},912:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.extensionStorage=void 0,t.extensionStorage=new class{async storage_get(e){return(await chrome.storage.sync.get(e))[e]}async storage_set(e,t){chrome.storage.sync.set({[e]:t})}}}},t={};function s(n){var o=t[n];if(void 0!==o)return o.exports;var a=t[n]={exports:{}};return e[n](a,a.exports,s),a.exports}(()=>{const e=s(150),t=s(844),n=s(343);function o(e){document.getElementsByTagName("html")[0].style.visibility=e}(async()=>{o("hidden"),window.onload=async function(){await e.contentMediator.setCategories(["kampsport","tennis"]);const s=new t.ContentController(new n.ContentView,e.contentMediator,window.location.host);await s.init(),o("visible");const a=await chrome.runtime.sendMessage({sentence:"KORT SPORT . Dansk VM-bagspiller skifter Frankrig ud med Ungarn . Den danske håndboldspiller Kristina Jørgensen skifter Frankrig ud med Ungarn fra den kommende sæson"});console.log(a)}})()})()})();